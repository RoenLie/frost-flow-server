var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,l=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&n(e,a,t[a]);if(o)for(var a of o(t))s.call(t,a)&&n(e,a,t[a]);return e};import{C as c,R as m,d as u}from"./vendor.af781945.js";import{u as i}from"./index.ac04f164.js";var d={main:"_main_1jdf1_5",content:"_content_1jdf1_33",autoClose:"_autoClose_1jdf1_93"};var p={toast:"_toast_113tm_1",fadeIn:"_fadeIn_113tm_1",success:"_success_113tm_49",warning:"_warning_113tm_55",error:"_error_113tm_61",info:"_info_113tm_67"};const f=({mode:e,onClose:t,message:a})=>{const o=c.exports.useMemo((()=>[p.toast,p[e]].join(" ")),[e]);return m.createElement("div",{onClick:t,className:o},m.createElement("div",{className:p.message},a))};var g="_toastContainer_1othy_1";const v=c.exports.forwardRef((({autoClose:e=!1,autoCloseTime:o=5e3},r)=>{const[s,n]=c.exports.useState([]),{loaded:d,portalId:p}=(()=>{const[e,t]=c.exports.useState(!1),[a]=c.exports.useState(`toast-portal-${i()}`);return c.exports.useEffect((()=>{const e=document.createElement("div");return e.id=a,e.style="position: fixed; top: 10px; right: 10px",document.getElementsByTagName("body")[0].prepend(e),t(!0),()=>document.getElementsByTagName("body")[0].removeChild(e)}),[a]),{loaded:e,portalId:a}})();(({toasts:e,setToasts:t,autoClose:a,autoCloseTime:o})=>{const[r,s]=c.exports.useState("");c.exports.useEffect((()=>{r&&t((e=>e.filter((e=>e.id!==r))))}),[r,t]),c.exports.useEffect((()=>{if(a&&e.length){const t=e[e.length-1].id;setTimeout((()=>s(t)),o)}}),[e,a,o])})({toasts:s,setToasts:n,autoClose:e,autoCloseTime:o});return c.exports.useImperativeHandle(r,(()=>({addMessage(e){var o,r;n([...s,(o=l({},e),r={id:i()},t(o,a(r)))])}}))),d?u.createPortal(m.createElement("div",{className:g},s.map((e=>m.createElement(f,{key:e.id,mode:e.mode,message:e.message,onClose:()=>{return t=e.id,void n(s.filter((e=>e.id!==t)));var t}})))),document.getElementById(p)):m.createElement(m.Fragment,null)}));export default()=>{const e=c.exports.useRef(),[t,a]=c.exports.useState(""),[o,r]=c.exports.useState("info"),[s,n]=c.exports.useState(!1);return m.createElement("div",{className:d.main},m.createElement("h1",null,"Portals and Toast"),m.createElement("div",{className:d.content},m.createElement("img",{alt:"toaster",src:"/assets/toaster.svg",className:d.toaster}),m.createElement("form",{onSubmit:r=>{var s;r.preventDefault(),t&&(null==(s=e.current)||s.addMessage({mode:o,message:t}),a(""))}},m.createElement("div",{className:d.autoClose},m.createElement("input",{type:"checkbox",checked:s,onChange:e=>n(e.target.checked)}),m.createElement("label",null,"Auto Close")),m.createElement("select",{value:o,onChange:e=>r(e.target.value)},m.createElement("option",{value:"info"},"Info"),m.createElement("option",{value:"success"},"Success"),m.createElement("option",{value:"warning"},"Warning"),m.createElement("option",{value:"error"},"Error")),m.createElement("input",{type:"text",value:t,placeholder:"Toast Value",onChange:e=>a(e.target.value)}),m.createElement("button",null,"Submit"))),m.createElement(v,{ref:e,autoClose:s}))};
